<!-- Redux Toolkit Section -->
<section class="mb-12" id="redux-toolkit">
  <!-- Beginner-Friendly Introduction -->
  <div
    class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-8 mb-8 border border-green-200"
  >
    <div class="text-center mb-6">
      <div class="text-6xl mb-4">üéØ</div>
      <h3 class="text-2xl font-bold text-green-800 mb-2">
        Complete Beginner? Start Here!
      </h3>
      <p class="text-green-600">
        Never used Redux before? No problem! We'll explain everything step by
        step.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <!-- What's Redux Again? -->
      <div class="bg-white/70 p-6 rounded-lg shadow-md">
        <h4 class="font-bold text-gray-800 mb-3 flex items-center">
          <i class="fas fa-question-circle mr-2 text-blue-500"></i>
          Quick Redux Refresher
        </h4>
        <p class="text-gray-700 text-sm mb-3">
          Redux is like a <strong>central storage box</strong> for your app's
          data that any component can access. Think of it as a shared notebook
          that all parts of your app can read from and write to.
        </p>
        <div class="bg-blue-50 p-3 rounded text-xs text-blue-700">
          <strong>Example:</strong> User login status, shopping cart items,
          theme settings - anything that multiple components need to know about.
        </div>
      </div>

      <!-- The Old Problem -->
      <div class="bg-white/70 p-6 rounded-lg shadow-md">
        <h4 class="font-bold text-gray-800 mb-3 flex items-center">
          <i class="fas fa-exclamation-triangle mr-2 text-red-500"></i>
          The Old Redux Problem
        </h4>
        <p class="text-gray-700 text-sm mb-3">
          Traditional Redux required writing
          <strong>tons of repetitive code</strong>. It was like having to fill
          out 10 forms just to add one item to your shopping cart!
        </p>
        <div class="bg-red-50 p-3 rounded text-xs text-red-700">
          <strong>Reality:</strong> 50+ lines of code just to increment a
          counter. Many developers gave up because it felt too complex.
        </div>
      </div>
    </div>

    <div
      class="mt-8 bg-gradient-to-r from-blue-100 to-purple-100 p-6 rounded-lg border border-blue-200"
    >
      <h4 class="font-bold text-blue-800 mb-3 text-center">
        üéâ Redux Toolkit to the Rescue!
      </h4>
      <p class="text-blue-700 text-center leading-relaxed">
        Redux Toolkit (RTK) is like having a
        <strong>smart assistant</strong> that writes all the boring Redux code
        for you. What used to take 50 lines now takes 10. What used to be
        confusing is now straightforward. It's still Redux, just
        <em>much</em> easier!
      </p>
    </div>

    <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
      <div class="bg-white p-4 rounded shadow">
        <div class="text-2xl mb-2">‚ö°</div>
        <div class="font-semibold text-gray-800">10x Faster</div>
        <div class="text-xs text-gray-600">
          Write Redux code in minutes, not hours
        </div>
      </div>
      <div class="bg-white p-4 rounded shadow">
        <div class="text-2xl mb-2">üõ°Ô∏è</div>
        <div class="font-semibold text-gray-800">Fewer Bugs</div>
        <div class="text-xs text-gray-600">
          Built-in best practices prevent common mistakes
        </div>
      </div>
      <div class="bg-white p-4 rounded shadow">
        <div class="text-2xl mb-2">üòä</div>
        <div class="font-semibold text-gray-800">Actually Fun</div>
        <div class="text-xs text-gray-600">
          You'll enjoy writing Redux again!
        </div>
      </div>
    </div>
  </div>

  <div class="flex items-center gap-3 mb-6">
    <div
      class="p-3 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 text-blue-600 shadow-md"
    >
      <i class="fas fa-tools text-lg"></i>
    </div>
    <div>
      <h2 class="text-3xl font-bold text-gray-800">Redux Toolkit (RTK)</h2>
      <p class="text-gray-500 text-sm mt-1">
        The modern way to use Redux - easier and faster!
      </p>
    </div>
  </div>

  <!-- What is RTK? -->
  <div
    class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-8 mb-8 border border-blue-200"
  >
    <div class="bg-blue-100 border-l-4 border-blue-400 p-4 mb-6 rounded-r">
      <p class="text-blue-800">
        <i class="fa-solid fa-lightbulb mr-2"></i>
        <strong>Think of Redux Toolkit as "Redux made easy"</strong> - it's like
        having a smart assistant that handles all the tedious work while you
        focus on what matters!
      </p>
    </div>

    <h3 class="text-2xl font-bold mb-6 text-blue-800">
      What is Redux Toolkit? ü§î
    </h3>

    <div class="mb-8">
      <div class="bg-white/70 p-6 rounded-lg shadow-md mb-6">
        <div class="flex items-start gap-4">
          <div class="text-4xl">üß∞</div>
          <div>
            <h4 class="text-lg font-bold text-gray-800 mb-3">
              The "Easy Mode" for Redux
            </h4>
            <p class="text-gray-700 mb-4">
              Remember how traditional Redux required lots of repetitive code?
              Redux Toolkit (RTK) is like having a magical toolkit that does all
              the boring setup for you!
            </p>

            <div
              class="bg-yellow-50 p-4 rounded-lg border border-yellow-200 mb-4"
            >
              <p class="text-yellow-800 text-sm">
                <strong>üìù Analogy:</strong> If traditional Redux is like
                building a house brick by brick, RTK is like using pre-made
                modules that snap together easily!
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <h3 class="text-2xl font-bold mb-4 text-blue-800">
      Why Should You Use Redux Toolkit? üöÄ
    </h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
      <div class="space-y-4">
        <div class="flex items-start gap-3">
          <div
            class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
          >
            <i class="fas fa-magic text-green-600 text-sm"></i>
          </div>
          <div>
            <h4 class="font-semibold text-gray-800">90% Less Code</h4>
            <p class="text-sm text-gray-600">
              Eliminates repetitive boilerplate - write 10 lines instead of 50!
            </p>
          </div>
        </div>

        <div class="flex items-start gap-3">
          <div
            class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
          >
            <i class="fas fa-shield-alt text-green-600 text-sm"></i>
          </div>
          <div>
            <h4 class="font-semibold text-gray-800">
              "Mutate" Safely with Immer
            </h4>
            <p class="text-sm text-gray-600">
              Write code like <code>state.count++</code> - RTK handles
              immutability!
            </p>
          </div>
        </div>

        <div class="flex items-start gap-3">
          <div
            class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
          >
            <i class="fas fa-bug text-green-600 text-sm"></i>
          </div>
          <div>
            <h4 class="font-semibold text-gray-800">
              Amazing DevTools Built-in
            </h4>
            <p class="text-sm text-gray-600">
              Time-travel debugging and state inspection work out of the box
            </p>
          </div>
        </div>
      </div>

      <div class="space-y-4">
        <div class="flex items-start gap-3">
          <div
            class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
          >
            <i class="fas fa-code text-green-600 text-sm"></i>
          </div>
          <div>
            <h4 class="font-semibold text-gray-800">TypeScript Heaven</h4>
            <p class="text-sm text-gray-600">
              Incredible TypeScript support with auto-generated types
            </p>
          </div>
        </div>

        <div class="flex items-start gap-3">
          <div
            class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
          >
            <i class="fas fa-database text-green-600 text-sm"></i>
          </div>
          <div>
            <h4 class="font-semibold text-gray-800">RTK Query for API Calls</h4>
            <p class="text-sm text-gray-600">
              Handles server data, caching, and loading states automatically
            </p>
          </div>
        </div>

        <div class="flex items-start gap-3">
          <div
            class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
          >
            <i class="fas fa-graduation-cap text-green-600 text-sm"></i>
          </div>
          <div>
            <h4 class="font-semibold text-gray-800">Best Practices Built-in</h4>
            <p class="text-sm text-gray-600">
              Forces you to follow Redux best practices automatically
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Before vs After Comparison -->
    <div class="mb-8">
      <h4
        class="text-xl font-bold mb-4 text-indigo-800 flex items-center gap-2"
      >
        <i class="fas fa-compare text-indigo-600"></i>
        Before RTK vs After RTK - See the Difference!
      </h4>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Traditional Redux -->
        <div class="bg-red-50 p-6 rounded-lg border border-red-200">
          <div class="flex items-center mb-4">
            <div class="text-2xl mr-3">üò§</div>
            <h5 class="font-bold text-red-800">
              Traditional Redux (The Hard Way)
            </h5>
          </div>
          <div class="text-sm text-red-700 space-y-2">
            <div>‚úó 50+ lines of boilerplate code</div>
            <div>‚úó Manual action types and creators</div>
            <div>‚úó Complex immutability patterns</div>
            <div>‚úó Store setup with middleware</div>
            <div>‚úó Lots of room for mistakes</div>
          </div>
        </div>

        <!-- RTK -->
        <div class="bg-green-50 p-6 rounded-lg border border-green-200">
          <div class="flex items-center mb-4">
            <div class="text-2xl mr-3">üéâ</div>
            <h5 class="font-bold text-green-800">
              Redux Toolkit (The Easy Way)
            </h5>
          </div>
          <div class="text-sm text-green-700 space-y-2">
            <div>‚úì 10-15 lines with createSlice</div>
            <div>‚úì Auto-generated actions and types</div>
            <div>‚úì Write "mutative" logic safely</div>
            <div>‚úì One-line store configuration</div>
            <div>‚úì Hard to make mistakes!</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- RTK Key Features -->
  <div
    class="bg-white/80 shadow-xl rounded-xl p-8 mb-8 border border-purple-100"
  >
    <h3 class="text-2xl font-bold mb-6 text-purple-800 flex items-center gap-3">
      <i class="fa-solid fa-star text-purple-500"></i>
      Key RTK Features You'll Love
    </h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <!-- configureStore -->
      <div
        class="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg border border-blue-200"
      >
        <div class="text-center mb-4">
          <div
            class="w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-2"
          >
            <i class="fas fa-cog text-white text-xl"></i>
          </div>
          <h4 class="font-bold text-blue-800">configureStore</h4>
        </div>
        <p class="text-sm text-blue-700 text-center mb-3">
          One function call to set up your entire store with DevTools and
          middleware included!
        </p>
        <div class="bg-white p-3 rounded text-xs text-blue-600">
          <strong>Before:</strong> 20+ lines of store setup<br />
          <strong>After:</strong> 3 lines and you're done!
        </div>
      </div>

      <!-- createSlice -->
      <div
        class="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-lg border border-green-200"
      >
        <div class="text-center mb-4">
          <div
            class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-2"
          >
            <i class="fas fa-cut text-white text-xl"></i>
          </div>
          <h4 class="font-bold text-green-800">createSlice</h4>
        </div>
        <p class="text-sm text-green-700 text-center mb-3">
          Creates actions, action creators, and reducers all in one place.
          Magic! ‚ú®
        </p>
        <div class="bg-white p-3 rounded text-xs text-green-600">
          <strong>Before:</strong> Separate files for actions, types,
          reducers<br />
          <strong>After:</strong> Everything in one slice!
        </div>
      </div>

      <!-- Immer Integration -->
      <div
        class="bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-lg border border-purple-200"
      >
        <div class="text-center mb-4">
          <div
            class="w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-2"
          >
            <i class="fas fa-magic text-white text-xl"></i>
          </div>
          <h4 class="font-bold text-purple-800">Immer Integration</h4>
        </div>
        <p class="text-sm text-purple-700 text-center mb-3">
          Write code that looks like you're mutating state, but it's actually
          immutable!
        </p>
        <div class="bg-white p-3 rounded text-xs text-purple-600">
          <strong>Before:</strong>
          <code>{...state, count: state.count + 1}</code><br />
          <strong>After:</strong> <code>state.count++</code>
        </div>
      </div>

      <!-- createAsyncThunk -->
      <div
        class="bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-lg border border-orange-200"
      >
        <div class="text-center mb-4">
          <div
            class="w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-2"
          >
            <i class="fas fa-cloud-download-alt text-white text-xl"></i>
          </div>
          <h4 class="font-bold text-orange-800">createAsyncThunk</h4>
        </div>
        <p class="text-sm text-orange-700 text-center mb-3">
          Handles async operations like API calls with automatic loading/error
          states.
        </p>
        <div class="bg-white p-3 rounded text-xs text-orange-600">
          <strong>Before:</strong> Complex async middleware setup<br />
          <strong>After:</strong> One function for all async needs!
        </div>
      </div>
    </div>
  </div>

  <!-- Step-by-Step Guide -->
  <div
    class="bg-white/80 shadow-xl rounded-xl p-8 mb-8 border border-indigo-100"
  >
    <h3 class="text-2xl font-bold mb-6 text-indigo-800 flex items-center gap-3">
      <i class="fa-solid fa-list-ol text-indigo-500"></i>
      Step-by-Step: Convert Your First Redux App to RTK
    </h3>

    <div class="bg-indigo-50 p-6 rounded-lg mb-8 border-l-4 border-indigo-400">
      <p class="text-indigo-800 leading-relaxed">
        <strong>üéØ Let's transform our counter example!</strong> We'll take the
        traditional Redux counter we built earlier and show you how RTK makes it
        10x easier. Follow along step by step!
      </p>
    </div>

    <!-- Step 1: Install RTK -->
    <div class="mb-8">
      <div class="flex items-center gap-3 mb-4">
        <div
          class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center"
        >
          <span class="text-white font-bold">1</span>
        </div>
        <h4 class="text-lg font-bold text-blue-800">Install Redux Toolkit</h4>
      </div>

      <div
        class="bg-gray-800 text-gray-100 p-4 rounded-lg font-mono text-sm mb-4"
      >
        <div class="text-green-400"># If you haven't already:</div>
        <div>npm install @reduxjs/toolkit react-redux</div>
      </div>

      <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
        <p class="text-blue-700 text-sm">
          <strong>üí° Pro Tip:</strong> RTK includes Redux core, so you don't
          need to install regular Redux separately!
        </p>
      </div>
    </div>

    <!-- Step 2: Create Slice -->
    <div class="mb-8">
      <div class="flex items-center gap-3 mb-4">
        <div
          class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center"
        >
          <span class="text-white font-bold">2</span>
        </div>
        <h4 class="text-lg font-bold text-green-800">
          Create a Slice (Replaces Actions + Reducer)
        </h4>
      </div>

      <div class="code-header flex items-center justify-between px-4 py-2">
        <span class="text-sm">counterSlice.js</span>
        <i class="fas fa-cut text-green-400"></i>
      </div>
      <div class="code-block mb-4">
        <pre
          class="bg-gray-800 text-gray-100 p-5 rounded-b-lg overflow-x-auto text-sm font-mono m-0"
        ><code class="language-javascript">import { createSlice } from '@reduxjs/toolkit';

// This ONE slice replaces your actions file AND reducer file!
const counterSlice = createSlice({
  name: 'counter',                    // Name for this slice
  initialState: {                     // Starting state
    count: 0
  },
  reducers: {                         // All your reducer logic
    increment: (state) => {
      state.count += 1;               // Look! Direct mutation (thanks to Immer)
    },
    decrement: (state) => {
      state.count -= 1;               // So much cleaner!
    },
    reset: (state) => {
      state.count = 0;
    },
    incrementByAmount: (state, action) => {
      state.count += action.payload;  // action.payload is automatic
    }
  }
});

// Actions are automatically generated! üéâ
export const { increment, decrement, reset, incrementByAmount } = counterSlice.actions;

// Export the reducer
export default counterSlice.reducer;

// That's it! Compare this to 50+ lines of traditional Redux!</code></pre>
      </div>

      <div class="bg-green-50 p-4 rounded-lg border border-green-200">
        <h5 class="font-semibold text-green-800 mb-2">
          üéâ What Just Happened?
        </h5>
        <ul class="text-green-700 space-y-1 text-sm">
          <li>
            ‚Ä¢ <strong>No action types:</strong> RTK creates them automatically
          </li>
          <li>
            ‚Ä¢ <strong>No action creators:</strong> Generated from your reducer
            names
          </li>
          <li>
            ‚Ä¢ <strong>Direct "mutations":</strong> Write
            <code>state.count++</code> safely
          </li>
          <li>
            ‚Ä¢ <strong>One file:</strong> Everything related to counter state in
            one place
          </li>
        </ul>
      </div>
    </div>

    <!-- Step 3: Configure Store -->
    <div class="mb-8">
      <div class="flex items-center gap-3 mb-4">
        <div
          class="w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center"
        >
          <span class="text-white font-bold">3</span>
        </div>
        <h4 class="text-lg font-bold text-purple-800">
          Configure Store (Super Simple)
        </h4>
      </div>

      <div class="code-header flex items-center justify-between px-4 py-2">
        <span class="text-sm">store.js</span>
        <i class="fas fa-cog text-purple-400"></i>
      </div>
      <div class="code-block mb-4">
        <pre
          class="bg-gray-800 text-gray-100 p-5 rounded-b-lg overflow-x-auto text-sm font-mono m-0"
        ><code class="language-javascript">import { configureStore } from '@reduxjs/toolkit';
import counterReducer from './counterSlice';

// That's it! One function call and you're done! üöÄ
const store = configureStore({
  reducer: {
    counter: counterReducer
    // Add more slices here as your app grows
  }
  // RTK automatically adds:
  // ‚úì Redux DevTools Extension
  // ‚úì Thunk middleware for async actions
  // ‚úì Serialization checks
  // ‚úì Immutability checks
});

export default store;

// Compare this to traditional Redux store setup - SO MUCH EASIER!</code></pre>
      </div>

      <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
        <h5 class="font-semibold text-purple-800 mb-2">‚ú® Built-in Magic</h5>
        <p class="text-purple-700 text-sm">
          <code>configureStore</code> automatically includes DevTools, thunk
          middleware, and development-time checks. No more complex setup!
        </p>
      </div>
    </div>

    <!-- Step 4: Use in React -->
    <div class="mb-6">
      <div class="flex items-center gap-3 mb-4">
        <div
          class="w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center"
        >
          <span class="text-white font-bold">4</span>
        </div>
        <h4 class="text-lg font-bold text-orange-800">
          Use in React (Same as Before)
        </h4>
      </div>

      <div class="code-header flex items-center justify-between px-4 py-2">
        <span class="text-sm">Counter.jsx</span>
        <i class="fas fa-layer-group text-orange-400"></i>
      </div>
      <div class="code-block mb-4">
        <pre
          class="bg-gray-800 text-gray-100 p-5 rounded-b-lg overflow-x-auto text-sm font-mono m-0"
        ><code class="language-jsx">import React from 'react';
import { useSelector, useDispatch } from 'react-redux';
import { increment, decrement, reset, incrementByAmount } from './counterSlice';

function Counter() {
  // Get data from store (same as before)
  const count = useSelector(state => state.counter.count);
  const dispatch = useDispatch();

  return (
    &lt;div style={{ textAlign: 'center', padding: '20px' }}&gt;
      &lt;h1&gt;RTK Counter: {count}&lt;/h1&gt;
      
      &lt;div&gt;
        &lt;button onClick={() => dispatch(decrement())}&gt;
          - Decrease
        &lt;/button&gt;
        
        &lt;button onClick={() => dispatch(increment())}&gt;
          + Increase  
        &lt;/button&gt;
        
        &lt;button onClick={() => dispatch(incrementByAmount(5))}&gt;
          +5 Add Five
        &lt;/button&gt;
        
        &lt;button onClick={() => dispatch(reset())}&gt;
          üîÑ Reset
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default Counter;

// React usage is exactly the same! The magic happens behind the scenes.</code></pre>
      </div>

      <div class="bg-orange-50 p-4 rounded-lg border border-orange-200">
        <h5 class="font-semibold text-orange-800 mb-2">üéØ Same React Code!</h5>
        <p class="text-orange-700 text-sm">
          The React component code is identical to traditional Redux. RTK just
          makes the behind-the-scenes setup much easier!
        </p>
      </div>
    </div>
  </div>

  <!-- Advanced RTK Features -->
  <div class="bg-white/80 shadow-xl rounded-xl p-8 mb-8 border border-teal-100">
    <h3 class="text-2xl font-bold mb-6 text-teal-800 flex items-center gap-3">
      <i class="fa-solid fa-rocket text-teal-500"></i>
      Advanced RTK Features (When You're Ready)
    </h3>

    <!-- createAsyncThunk -->
    <div class="mb-8">
      <h4 class="text-xl font-bold mb-4 text-blue-800 flex items-center gap-2">
        <i class="fas fa-cloud-download-alt text-blue-600"></i>
        createAsyncThunk - API Calls Made Easy
      </h4>

      <div class="bg-blue-50 p-4 rounded-lg mb-4">
        <p class="text-blue-700">
          <strong>What it does:</strong> Handles async operations (like API
          calls) and automatically manages loading/success/error states. No more
          manual action types for async!
        </p>
      </div>

      <div class="code-header flex items-center justify-between px-4 py-2">
        <span class="text-sm">userSlice.js</span>
        <i class="fas fa-cloud text-blue-400"></i>
      </div>
      <div class="code-block">
        <pre
          class="bg-gray-800 text-gray-100 p-5 rounded-b-lg overflow-x-auto text-sm font-mono m-0"
        ><code class="language-javascript">import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';

// Create async thunk for fetching user data
export const fetchUser = createAsyncThunk(
  'user/fetchUser',                           // Action type prefix
  async (userId) => {                         // Async function
    const response = await fetch(`/api/users/${userId}`);
    return response.json();                   // This becomes action.payload
  }
);

const userSlice = createSlice({
  name: 'user',
  initialState: {
    data: null,
    loading: false,
    error: null
  },
  reducers: {
    clearUser: (state) => {
      state.data = null;
    }
  },
  extraReducers: (builder) => {
    builder
      .addCase(fetchUser.pending, (state) => {
        state.loading = true;                 // Auto-handled loading state
        state.error = null;
      })
      .addCase(fetchUser.fulfilled, (state, action) => {
        state.loading = false;
        state.data = action.payload;          // API response data
      })
      .addCase(fetchUser.rejected, (state, action) => {
        state.loading = false;
        state.error = action.error.message;   // Auto-handled error
      });
  }
});

export const { clearUser } = userSlice.actions;
export default userSlice.reducer;

// Usage in component:
// dispatch(fetchUser(123)); // Automatically handles loading/success/error!</code></pre>
      </div>
    </div>

    <!-- RTK Query Preview -->
    <div class="mb-6">
      <h4 class="text-xl font-bold mb-4 text-green-800 flex items-center gap-2">
        <i class="fas fa-database text-green-600"></i>
        RTK Query - The Ultimate API Solution
      </h4>

      <div class="bg-green-50 p-4 rounded-lg border border-green-200">
        <p class="text-green-700 mb-3">
          <strong>Even more powerful:</strong> RTK Query handles all your API
          needs with automatic caching, background refetching, and optimistic
          updates. It's like having a full-time API expert on your team!
        </p>
        <p class="text-green-600 text-sm">
          üëâ We'll cover RTK Query in detail in the next section - it's amazing!
        </p>
      </div>
    </div>
  </div>

  <!-- Practical Todo Example with RTK -->
  <div
    class="bg-white/80 shadow-xl rounded-xl p-8 mb-8 border border-purple-100"
  >
    <h3 class="text-2xl font-bold mb-6 text-purple-800 flex items-center gap-3">
      <i class="fa-solid fa-list-check text-purple-500"></i>
      Practical Example: Todo App with RTK
    </h3>

    <div class="bg-purple-50 p-6 rounded-lg mb-8 border-l-4 border-purple-400">
      <p class="text-purple-800 leading-relaxed">
        <strong>üéØ Let's build something real!</strong> Here's how to create a
        complete todo app using RTK. You'll see how much cleaner and easier it
        is compared to traditional Redux!
      </p>
    </div>

    <div class="mb-8">
      <h4 class="text-xl font-bold mb-4 text-purple-800">
        Complete Todo Slice
      </h4>

      <div class="code-header flex items-center justify-between px-4 py-2">
        <span class="text-sm">todoSlice.js</span>
        <i class="fas fa-cut text-purple-400"></i>
      </div>
      <div class="code-block mb-6">
        <pre
          class="bg-gray-800 text-gray-100 p-5 rounded-b-lg overflow-x-auto text-sm font-mono m-0"
        ><code class="language-javascript">import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';

// Async thunk for fetching todos from API
export const fetchTodos = createAsyncThunk(
  'todos/fetchTodos',
  async () => {
    const response = await fetch('/api/todos');
    return response.json();
  }
);

// Async thunk for adding todo to server
export const addTodoAsync = createAsyncThunk(
  'todos/addTodo',
  async (todoText) => {
    const response = await fetch('/api/todos', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ text: todoText, completed: false })
    });
    return response.json();
  }
);

const todoSlice = createSlice({
  name: 'todos',
  initialState: {
    items: [],
    status: 'idle', // 'idle' | 'loading' | 'succeeded' | 'failed'
    error: null,
    filter: 'all' // 'all' | 'active' | 'completed'
  },
  reducers: {
    // Synchronous actions
    todoAdded: (state, action) => {
      state.items.push({
        id: Date.now(),
        text: action.payload,
        completed: false
      });
    },
    todoToggled: (state, action) => {
      const todo = state.items.find(todo => todo.id === action.payload);
      if (todo) {
        todo.completed = !todo.completed; // Direct mutation thanks to Immer!
      }
    },
    todoDeleted: (state, action) => {
      state.items = state.items.filter(todo => todo.id !== action.payload);
    },
    allCompleted: (state) => {
      state.items.forEach(todo => {
        todo.completed = true; // Mutate all items easily
      });
    },
    completedCleared: (state) => {
      state.items = state.items.filter(todo => !todo.completed);
    },
    filterChanged: (state, action) => {
      state.filter = action.payload;
    }
  },
  extraReducers: (builder) => {
    builder
      // Handle fetchTodos
      .addCase(fetchTodos.pending, (state) => {
        state.status = 'loading';
      })
      .addCase(fetchTodos.fulfilled, (state, action) => {
        state.status = 'succeeded';
        state.items = action.payload;
      })
      .addCase(fetchTodos.rejected, (state, action) => {
        state.status = 'failed';
        state.error = action.error.message;
      })
      // Handle addTodoAsync
      .addCase(addTodoAsync.fulfilled, (state, action) => {
        state.items.push(action.payload);
      });
  }
});

// Export actions
export const {
  todoAdded,
  todoToggled,
  todoDeleted,
  allCompleted,
  completedCleared,
  filterChanged
} = todoSlice.actions;

// Export selectors
export const selectAllTodos = (state) => state.todos.items;
export const selectTodosByFilter = (state) => {
  const { items, filter } = state.todos;
  switch (filter) {
    case 'active':
      return items.filter(todo => !todo.completed);
    case 'completed':
      return items.filter(todo => todo.completed);
    default:
      return items;
  }
};

export default todoSlice.reducer;</code></pre>
      </div>

      <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
        <h5 class="font-semibold text-purple-800 mb-2">
          üéâ Look How Clean This Is!
        </h5>
        <ul class="text-purple-700 space-y-1 text-sm">
          <li>‚Ä¢ <strong>One file</strong> handles all todo logic</li>
          <li>
            ‚Ä¢ <strong>Direct mutations</strong> like
            <code>todo.completed = !todo.completed</code>
          </li>
          <li>
            ‚Ä¢ <strong>Async actions</strong> with automatic loading states
          </li>
          <li>‚Ä¢ <strong>Built-in selectors</strong> for filtering</li>
          <li>‚Ä¢ <strong>No action types</strong> to manually define</li>
        </ul>
      </div>
    </div>

    <div class="mb-6">
      <h4 class="text-xl font-bold mb-4 text-purple-800">
        Using the Todo Slice in React
      </h4>

      <div class="code-header flex items-center justify-between px-4 py-2">
        <span class="text-sm">TodoApp.jsx</span>
        <i class="fas fa-layer-group text-purple-400"></i>
      </div>
      <div class="code-block">
        <pre
          class="bg-gray-800 text-gray-100 p-5 rounded-b-lg overflow-x-auto text-sm font-mono m-0"
        ><code class="language-jsx">import React, { useState, useEffect } from 'react';
import { useSelector, useDispatch } from 'react-redux';
import {
  fetchTodos,
  todoAdded,
  todoToggled,
  todoDeleted,
  filterChanged,
  selectTodosByFilter
} from './todoSlice';

function TodoApp() {
  const [inputText, setInputText] = useState('');
  const dispatch = useDispatch();
  
  // Get data from store using selectors
  const todos = useSelector(selectTodosByFilter);
  const filter = useSelector(state => state.todos.filter);
  const status = useSelector(state => state.todos.status);
  const error = useSelector(state => state.todos.error);

  // Load todos on component mount
  useEffect(() => {
    if (status === 'idle') {
      dispatch(fetchTodos());
    }
  }, [status, dispatch]);

  const handleSubmit = (e) => {
    e.preventDefault();
    if (inputText.trim()) {
      dispatch(todoAdded(inputText)); // So simple!
      setInputText('');
    }
  };

  if (status === 'loading') {
    return &lt;div&gt;Loading todos...&lt;/div&gt;;
  }

  if (status === 'failed') {
    return &lt;div&gt;Error: {error}&lt;/div&gt;;
  }

  return (
    &lt;div className="todo-app"&gt;
      &lt;h1&gt;RTK Todo App&lt;/h1&gt;
      
      {/* Add new todo */}
      &lt;form onSubmit={handleSubmit}&gt;
        &lt;input
          type="text"
          value={inputText}
          onChange={(e) => setInputText(e.target.value)}
          placeholder="What needs to be done?"
        /&gt;
        &lt;button type="submit"&gt;Add Todo&lt;/button&gt;
      &lt;/form&gt;

      {/* Filter buttons */}
      &lt;div className="filters"&gt;
        {['all', 'active', 'completed'].map(filterType => (
          &lt;button
            key={filterType}
            className={filter === filterType ? 'active' : ''}
            onClick={() => dispatch(filterChanged(filterType))}
          &gt;
            {filterType.charAt(0).toUpperCase() + filterType.slice(1)}
          &lt;/button&gt;
        ))}
      &lt;/div&gt;

      {/* Todo list */}
      &lt;ul className="todo-list"&gt;
        {todos.map(todo => (
          &lt;li key={todo.id} className={todo.completed ? 'completed' : ''}&gt;
            &lt;span
              onClick={() => dispatch(todoToggled(todo.id))}
              style={{ cursor: 'pointer' }}
            &gt;
              {todo.text}
            &lt;/span&gt;
            &lt;button
              onClick={() => dispatch(todoDeleted(todo.id))}
              className="delete-btn"
            &gt;
              √ó
            &lt;/button&gt;
          &lt;/li&gt;
        ))}
      &lt;/ul&gt;

      &lt;div className="stats"&gt;
        &lt;span&gt;{todos.length} item(s) shown&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default TodoApp;</code></pre>
      </div>
    </div>
  </div>

  <!-- RTK vs Traditional Redux Comparison -->
  <div class="bg-white/80 shadow-xl rounded-xl p-8 mb-8 border border-teal-100">
    <h3 class="text-2xl font-bold mb-6 text-teal-800 flex items-center gap-3">
      <i class="fa-solid fa-balance-scale text-teal-500"></i>
      RTK vs Traditional Redux: Side-by-Side Comparison
    </h3>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <!-- Traditional Redux -->
      <div class="bg-red-50 rounded-lg p-6 border border-red-200">
        <h4 class="font-bold text-red-800 mb-4 flex items-center">
          <i class="fas fa-frown mr-2"></i>
          Traditional Redux (The Old Way)
        </h4>

        <div class="space-y-4 text-sm">
          <div class="bg-white p-3 rounded border">
            <strong class="text-red-700">actions/todoActions.js</strong>
            <div class="text-red-600 mt-1">
              25+ lines of action types and creators
            </div>
          </div>

          <div class="bg-white p-3 rounded border">
            <strong class="text-red-700">reducers/todoReducer.js</strong>
            <div class="text-red-600 mt-1">
              40+ lines of complex switch statements
            </div>
          </div>

          <div class="bg-white p-3 rounded border">
            <strong class="text-red-700">store/index.js</strong>
            <div class="text-red-600 mt-1">15+ lines of middleware setup</div>
          </div>

          <div class="bg-white p-3 rounded border">
            <strong class="text-red-700">Immutability</strong>
            <div class="text-red-600 mt-1">
              <code>{`{...state, todos: state.todos.map(...)}`}</code>
            </div>
          </div>

          <div class="bg-white p-3 rounded border">
            <strong class="text-red-700">Async Actions</strong>
            <div class="text-red-600 mt-1">
              Custom middleware or thunks required
            </div>
          </div>

          <div class="bg-red-100 p-3 rounded border-l-4 border-red-400 mt-4">
            <strong>Total: ~80-100 lines of boilerplate</strong>
          </div>
        </div>
      </div>

      <!-- RTK -->
      <div class="bg-green-50 rounded-lg p-6 border border-green-200">
        <h4 class="font-bold text-green-800 mb-4 flex items-center">
          <i class="fas fa-smile mr-2"></i>
          Redux Toolkit (The New Way)
        </h4>

        <div class="space-y-4 text-sm">
          <div class="bg-white p-3 rounded border">
            <strong class="text-green-700">todoSlice.js</strong>
            <div class="text-green-600 mt-1">Everything in one file!</div>
          </div>

          <div class="bg-white p-3 rounded border">
            <strong class="text-green-700">store.js</strong>
            <div class="text-green-600 mt-1">3 lines with configureStore</div>
          </div>

          <div class="bg-white p-3 rounded border">
            <strong class="text-green-700">Actions</strong>
            <div class="text-green-600 mt-1">
              Auto-generated from reducer names
            </div>
          </div>

          <div class="bg-white p-3 rounded border">
            <strong class="text-green-700">Immutability</strong>
            <div class="text-green-600 mt-1">
              <code>state.count++</code> (Immer handles it!)
            </div>
          </div>

          <div class="bg-white p-3 rounded border">
            <strong class="text-green-700">Async Actions</strong>
            <div class="text-green-600 mt-1">createAsyncThunk built-in</div>
          </div>

          <div
            class="bg-green-100 p-3 rounded border-l-4 border-green-400 mt-4"
          >
            <strong>Total: ~30-40 lines total</strong>
          </div>
        </div>
      </div>
    </div>

    <div
      class="mt-8 bg-gradient-to-r from-green-100 to-blue-100 p-6 rounded-lg border border-green-200"
    >
      <h4 class="font-bold text-gray-800 mb-3 flex items-center">
        <i class="fas fa-chart-line mr-2"></i>
        The RTK Advantage: Numbers Don't Lie
      </h4>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
        <div class="bg-white p-4 rounded shadow">
          <div class="text-3xl font-bold text-green-600">75%</div>
          <div class="text-sm text-gray-600">Less Code</div>
        </div>
        <div class="bg-white p-4 rounded shadow">
          <div class="text-3xl font-bold text-blue-600">90%</div>
          <div class="text-sm text-gray-600">Fewer Bugs</div>
        </div>
        <div class="bg-white p-4 rounded shadow">
          <div class="text-3xl font-bold text-purple-600">5x</div>
          <div class="text-sm text-gray-600">Faster Development</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Best Practices with RTK -->
  <div
    class="bg-white/80 shadow-xl rounded-xl p-8 mb-8 border border-green-100"
  >
    <h3 class="text-2xl font-bold mb-6 text-green-800 flex items-center gap-3">
      <i class="fa-solid fa-star text-green-500"></i>
      RTK Best Practices & Tips
    </h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <!-- Do's -->
      <div class="bg-green-50 p-6 rounded-lg border border-green-200">
        <h4 class="font-bold text-green-800 mb-4 flex items-center">
          <i class="fas fa-check-circle mr-2"></i>
          ‚úÖ Do This
        </h4>
        <ul class="space-y-3 text-green-700 text-sm">
          <li class="flex items-start gap-2">
            <i class="fas fa-arrow-right text-green-500 mt-1 text-xs"></i>
            <span
              ><strong>Keep slices focused:</strong> One slice per feature or
              domain</span
            >
          </li>
          <li class="flex items-start gap-2">
            <i class="fas fa-arrow-right text-green-500 mt-1 text-xs"></i>
            <span
              ><strong>Use createAsyncThunk:</strong> For all API calls and
              async operations</span
            >
          </li>
          <li class="flex items-start gap-2">
            <i class="fas fa-arrow-right text-green-500 mt-1 text-xs"></i>
            <span
              ><strong>Write "mutative" logic:</strong>
              <code>state.count++</code> is totally fine!</span
            >
          </li>
          <li class="flex items-start gap-2">
            <i class="fas fa-arrow-right text-green-500 mt-1 text-xs"></i>
            <span
              ><strong>Export selectors:</strong> Keep data access logic in
              slices</span
            >
          </li>
          <li class="flex items-start gap-2">
            <i class="fas fa-arrow-right text-green-500 mt-1 text-xs"></i>
            <span
              ><strong>Use RTK Query:</strong> For server state management</span
            >
          </li>
        </ul>
      </div>

      <!-- Don'ts -->
      <div class="bg-red-50 p-6 rounded-lg border border-red-200">
        <h4 class="font-bold text-red-800 mb-4 flex items-center">
          <i class="fas fa-times-circle mr-2"></i>
          ‚ùå Don't Do This
        </h4>
        <ul class="space-y-3 text-red-700 text-sm">
          <li class="flex items-start gap-2">
            <i class="fas fa-times text-red-500 mt-1 text-xs"></i>
            <span
              ><strong>Don't return state:</strong> Immer handles
              immutability</span
            >
          </li>
          <li class="flex items-start gap-2">
            <i class="fas fa-times text-red-500 mt-1 text-xs"></i>
            <span
              ><strong>Don't put everything in Redux:</strong> Keep local state
              local</span
            >
          </li>
          <li class="flex items-start gap-2">
            <i class="fas fa-times text-red-500 mt-1 text-xs"></i>
            <span
              ><strong>Don't make slices too big:</strong> Split large slices
              into smaller ones</span
            >
          </li>
          <li class="flex items-start gap-2">
            <i class="fas fa-times text-red-500 mt-1 text-xs"></i>
            <span
              ><strong>Don't mix sync/async:</strong> Use extraReducers for
              async actions</span
            >
          </li>
          <li class="flex items-start gap-2">
            <i class="fas fa-times text-red-500 mt-1 text-xs"></i>
            <span
              ><strong>Don't ignore DevTools:</strong> They're incredibly
              powerful!</span
            >
          </li>
        </ul>
      </div>
    </div>

    <div class="mt-8 bg-blue-50 p-6 rounded-lg border-l-4 border-blue-400">
      <h4 class="font-bold text-blue-800 mb-3">üéØ Pro Tips for RTK Success</h4>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-blue-700 text-sm">
        <div>
          <h5 class="font-semibold mb-2">Naming Conventions:</h5>
          <ul class="space-y-1">
            <li>‚Ä¢ Slice names: camelCase (userProfile, shoppingCart)</li>
            <li>‚Ä¢ Action names: verb + noun (userAdded, cartCleared)</li>
            <li>‚Ä¢ Async thunks: verb + Resource (fetchUser, updateProfile)</li>
          </ul>
        </div>
        <div>
          <h5 class="font-semibold mb-2">File Organization:</h5>
          <ul class="space-y-1">
            <li>‚Ä¢ One slice per file</li>
            <li>‚Ä¢ Group related slices in folders</li>
            <li>‚Ä¢ Export selectors from slice files</li>
            <li>‚Ä¢ Keep store configuration separate</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Migration Tips -->
  <div
    class="bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl p-8 mb-8 border border-yellow-200"
  >
    <h3 class="text-2xl font-bold text-yellow-800 mb-4 flex items-center">
      <i class="fas fa-exchange-alt mr-3"></i>
      Migration Tips: From Redux to RTK
    </h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div>
        <h4 class="font-semibold text-green-800 mb-3 flex items-center">
          <i class="fas fa-thumbs-up mr-2"></i>
          Easy Migration Strategy
        </h4>
        <ul class="text-sm text-green-700 space-y-2">
          <li>‚Ä¢ Start with new features using RTK</li>
          <li>‚Ä¢ Convert one slice at a time</li>
          <li>‚Ä¢ RTK is 100% compatible with existing Redux</li>
          <li>‚Ä¢ No need to rewrite everything at once</li>
          <li>‚Ä¢ Keep existing reducers while adding RTK slices</li>
          <li>‚Ä¢ Team can learn RTK gradually</li>
        </ul>
      </div>

      <div>
        <h4 class="font-semibold text-orange-800 mb-3 flex items-center">
          <i class="fas fa-lightbulb mr-2"></i>
          What to Convert First
        </h4>
        <ul class="text-sm text-orange-700 space-y-2">
          <li>‚Ä¢ Simple slices (like counter, toggles)</li>
          <li>‚Ä¢ New features you're building</li>
          <li>‚Ä¢ Slices with lots of boilerplate</li>
          <li>‚Ä¢ API-heavy slices (use RTK Query)</li>
          <li>‚Ä¢ Complex async logic (use createAsyncThunk)</li>
          <li>‚Ä¢ Leave working code alone until you need to change it</li>
        </ul>
      </div>
    </div>

    <div class="mt-6 bg-white p-4 rounded-lg">
      <h4 class="font-semibold text-gray-800 mb-2">üöÄ Migration Checklist</h4>
      <div class="text-sm text-gray-700">
        <div class="flex items-center gap-2 mb-1">
          <input type="checkbox" class="rounded" />
          <span>Install @reduxjs/toolkit</span>
        </div>
        <div class="flex items-center gap-2 mb-1">
          <input type="checkbox" class="rounded" />
          <span>Replace createStore with configureStore</span>
        </div>
        <div class="flex items-center gap-2 mb-1">
          <input type="checkbox" class="rounded" />
          <span>Convert one reducer to a slice</span>
        </div>
        <div class="flex items-center gap-2 mb-1">
          <input type="checkbox" class="rounded" />
          <span>Update imports in components</span>
        </div>
        <div class="flex items-center gap-2">
          <input type="checkbox" class="rounded" />
          <span>Test everything works the same</span>
        </div>
      </div>
    </div>

    <div class="mt-6 bg-white p-4 rounded-lg border border-yellow-300">
      <h4 class="font-semibold text-yellow-800 mb-2">
        üéØ RTK Migration Golden Rule
      </h4>
      <p class="text-yellow-700 text-sm">
        <strong>"If it ain't broke, don't fix it immediately."</strong>
        RTK works alongside traditional Redux perfectly. Migrate gradually,
        starting with new features, then convert old code when you need to
        modify it anyway.
      </p>
    </div>
  </div>

  <!-- Common Mistakes & Troubleshooting -->
  <div class="bg-white/80 shadow-xl rounded-xl p-8 mb-8 border border-red-100">
    <h3 class="text-2xl font-bold mb-6 text-red-800 flex items-center gap-3">
      <i class="fa-solid fa-exclamation-triangle text-red-500"></i>
      Common Mistakes & How to Fix Them
    </h3>

    <div class="space-y-6">
      <!-- Mistake 1: Returning state in reducers -->
      <div class="bg-red-50 p-6 rounded-lg border border-red-200">
        <h4 class="font-bold text-red-800 mb-3 flex items-center">
          <i class="fas fa-times-circle mr-2"></i>
          Mistake #1: Returning State in RTK Reducers
        </h4>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
          <div>
            <h5 class="font-semibold text-red-700 mb-2">
              ‚ùå Wrong (Traditional Redux way):
            </h5>
            <div class="bg-white p-3 rounded font-mono text-sm">
              <code class="text-red-600">
                increment: (state) => {<br />
                &nbsp;&nbsp;return { ...state, count: state.count + 1 }; //
                Don't do this!<br />
                }
              </code>
            </div>
          </div>
          <div>
            <h5 class="font-semibold text-green-700 mb-2">
              ‚úÖ Correct (RTK way):
            </h5>
            <div class="bg-white p-3 rounded font-mono text-sm">
              <code class="text-green-600">
                increment: (state) => {<br />
                &nbsp;&nbsp;state.count += 1; // Look! Direct mutation (thanks
                to Immer)<br />
                }
              </code>
            </div>
          </div>
        </div>

        <div class="mt-4 bg-yellow-50 p-3 rounded border border-yellow-200">
          <p class="text-yellow-800 text-sm">
            <strong>Why:</strong> RTK uses Immer under the hood, so you can
            write "mutative" logic that's actually immutable. If you return a
            value, Immer gets confused!
          </p>
        </div>
      </div>

      <!-- Mistake 2: Wrong action payload -->
      <div class="bg-red-50 p-6 rounded-lg border border-red-200">
        <h4 class="font-bold text-red-800 mb-3 flex items-center">
          <i class="fas fa-times-circle mr-2"></i>
          Mistake #2: Confusing Action Payloads
        </h4>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
          <div>
            <h5 class="font-semibold text-red-700 mb-2">‚ùå Wrong dispatch:</h5>
            <div class="bg-white p-3 rounded font-mono text-sm">
              <code class="text-red-600">
                // This creates: { type: 'todos/todoAdded', payload: { text:
                'Buy milk' } }<br />
                dispatch(todoAdded({ text: 'Buy milk' }));
              </code>
            </div>
          </div>
          <div>
            <h5 class="font-semibold text-green-700 mb-2">
              ‚úÖ Correct dispatch:
            </h5>
            <div class="bg-white p-3 rounded font-mono text-sm">
              <code class="text-green-600">
                // This creates: { type: 'todos/todoAdded', payload: 'Buy milk'
                }<br />
                dispatch(todoAdded('Buy milk'));
              </code>
            </div>
          </div>
        </div>

        <div class="mt-4 bg-yellow-50 p-3 rounded border border-yellow-200">
          <p class="text-yellow-800 text-sm">
            <strong>Remember:</strong> Whatever you pass to the action creator
            becomes <code>action.payload</code>. Design your reducers
            accordingly!
          </p>
        </div>
      </div>

      <!-- Mistake 3: Async in regular reducers -->
      <div class="bg-red-50 p-6 rounded-lg border border-red-200">
        <h4 class="font-bold text-red-800 mb-3 flex items-center">
          <i class="fas fa-times-circle mr-2"></i>
          Mistake #3: Putting Async Logic in Regular Reducers
        </h4>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
          <div>
            <h5 class="font-semibold text-red-700 mb-2">‚ùå Wrong:</h5>
            <div class="bg-white p-3 rounded font-mono text-sm">
              <code class="text-red-600">
                addTodo: async (state, action) => {<br />
                &nbsp;&nbsp;const response = await fetch('/api/todos'); //
                NO!<br />
                &nbsp;&nbsp;state.todos = response.data;<br />
                }
              </code>
            </div>
          </div>
          <div>
            <h5 class="font-semibold text-green-700 mb-2">‚úÖ Correct:</h5>
            <div class="bg-white p-3 rounded font-mono text-sm">
              <code class="text-green-600">
                // Use createAsyncThunk for async operations<br />
                export const fetchTodos = createAsyncThunk(<br />
                &nbsp;&nbsp;'todos/fetchTodos',<br />
                &nbsp;&nbsp;async () => {<br />
                &nbsp;&nbsp;&nbsp;&nbsp;const response = await
                fetch('/api/todos');<br />
                &nbsp;&nbsp;&nbsp;&nbsp;return response.json();<br />
                &nbsp;&nbsp;}<br />
                );
              </code>
            </div>
          </div>
        </div>

        <div class="mt-4 bg-yellow-50 p-3 rounded border border-yellow-200">
          <p class="text-yellow-800 text-sm">
            <strong>Rule:</strong> Reducers must be pure functions. Use
            <code>createAsyncThunk</code> for async operations and handle them
            in <code>extraReducers</code>.
          </p>
        </div>
      </div>
    </div>

    <!-- Quick Troubleshooting Guide -->
    <div class="mt-8 bg-blue-50 p-6 rounded-lg border border-blue-200">
      <h4 class="font-bold text-blue-800 mb-4 flex items-center">
        <i class="fas fa-tools mr-2"></i>
        Quick Troubleshooting Guide
      </h4>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h5 class="font-semibold text-blue-700 mb-3">
            üîç Problem: Actions not updating state
          </h5>
          <ul class="text-blue-600 text-sm space-y-1">
            <li>‚Ä¢ Check if reducer is added to store</li>
            <li>‚Ä¢ Verify action creator import/export</li>
            <li>‚Ä¢ Use Redux DevTools to see dispatched actions</li>
            <li>‚Ä¢ Make sure you're not returning state in reducer</li>
          </ul>
        </div>

        <div>
          <h5 class="font-semibold text-blue-700 mb-3">
            üîç Problem: TypeScript errors
          </h5>
          <ul class="text-blue-600 text-sm space-y-1">
            <li>‚Ä¢ Set up RootState and AppDispatch types</li>
            <li>‚Ä¢ Use typed hooks (useAppSelector, useAppDispatch)</li>
            <li>‚Ä¢ Export slice types for better inference</li>
            <li>‚Ä¢ Check RTK TypeScript docs for setup</li>
          </ul>
        </div>

        <div>
          <h5 class="font-semibold text-blue-700 mb-3">
            üîç Problem: Async actions not working
          </h5>
          <ul class="text-blue-600 text-sm space-y-1">
            <li>‚Ä¢ Check network tab for actual API calls</li>
            <li>‚Ä¢ Verify extraReducers are handling thunk actions</li>
            <li>‚Ä¢ Use .unwrap() for error handling</li>
            <li>‚Ä¢ Check if thunk middleware is enabled (it is by default)</li>
          </ul>
        </div>

        <div>
          <h5 class="font-semibold text-blue-700 mb-3">
            üîç Problem: Performance issues
          </h5>
          <ul class="text-blue-600 text-sm space-y-1">
            <li>‚Ä¢ Use memoized selectors (reselect)</li>
            <li>‚Ä¢ Don't put everything in Redux</li>
            <li>‚Ä¢ Consider RTK Query for server state</li>
            <li>‚Ä¢ Use React.memo for expensive components</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- When to Use RTK vs Alternatives -->
  <div
    class="bg-white/80 shadow-xl rounded-xl p-8 mb-8 border border-indigo-100"
  >
    <h3 class="text-2xl font-bold mb-6 text-indigo-800 flex items-center gap-3">
      <i class="fa-solid fa-scale-balanced text-indigo-500"></i>
      When to Use RTK vs Other Solutions
    </h3>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- RTK is Perfect For -->
      <div class="bg-green-50 p-6 rounded-lg border border-green-200">
        <h4 class="font-bold text-green-800 mb-4 flex items-center">
          <i class="fas fa-check-circle mr-2"></i>
          Perfect for RTK
        </h4>
        <ul class="text-green-700 text-sm space-y-2">
          <li>‚Ä¢ Complex app-wide state</li>
          <li>‚Ä¢ State shared across many components</li>
          <li>‚Ä¢ Time-travel debugging needed</li>
          <li>‚Ä¢ Server state with complex logic</li>
          <li>‚Ä¢ Team familiar with Redux patterns</li>
          <li>‚Ä¢ Large applications</li>
          <li>‚Ä¢ Need predictable state updates</li>
        </ul>
      </div>

      <!-- Consider Alternatives -->
      <div class="bg-yellow-50 p-6 rounded-lg border border-yellow-200">
        <h4 class="font-bold text-yellow-800 mb-4 flex items-center">
          <i class="fas fa-exclamation-circle mr-2"></i>
          Consider Alternatives
        </h4>
        <ul class="text-yellow-700 text-sm space-y-2">
          <li>‚Ä¢ <strong>useState:</strong> Simple local state</li>
          <li>‚Ä¢ <strong>useContext:</strong> Simple shared state</li>
          <li>‚Ä¢ <strong>React Query:</strong> Just server state</li>
          <li>‚Ä¢ <strong>Zustand:</strong> Simpler global state</li>
          <li>‚Ä¢ <strong>Jotai:</strong> Atomic state management</li>
          <li>‚Ä¢ <strong>Valtio:</strong> Proxy-based state</li>
        </ul>
      </div>

      <!-- Decision Matrix -->
      <div class="bg-blue-50 p-6 rounded-lg border border-blue-200">
        <h4 class="font-bold text-blue-800 mb-4 flex items-center">
          <i class="fas fa-chart-line mr-2"></i>
          Decision Matrix
        </h4>
        <div class="text-blue-700 text-sm space-y-3">
          <div>
            <strong>Small app, simple state:</strong>
            <div class="text-blue-600">useState + useContext</div>
          </div>
          <div>
            <strong>Medium app, some sharing:</strong>
            <div class="text-blue-600">Zustand or RTK</div>
          </div>
          <div>
            <strong>Large app, complex state:</strong>
            <div class="text-blue-600">RTK + RTK Query</div>
          </div>
          <div>
            <strong>Mostly server data:</strong>
            <div class="text-blue-600">React Query or RTK Query</div>
          </div>
        </div>
      </div>
    </div>

    <div class="mt-6 bg-indigo-50 p-6 rounded-lg border-l-4 border-indigo-400">
      <h4 class="font-bold text-indigo-800 mb-3">üéØ The RTK Sweet Spot</h4>
      <p class="text-indigo-700 text-sm leading-relaxed">
        RTK shines when you have
        <strong
          >complex client state that needs to be shared across multiple
          components</strong
        >, especially when you need features like time-travel debugging,
        middleware, or when your team is already familiar with Redux patterns.
        For simple apps or just server state, lighter alternatives might be
        better.
      </p>
    </div>
  </div>

  <!-- Next Steps -->
  <div
    class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-8 mb-8 border border-purple-200"
  >
    <h3 class="text-2xl font-bold mb-6 text-purple-800 flex items-center gap-3">
      <i class="fa-solid fa-rocket text-purple-500"></i>
      Your RTK Learning Path - What's Next?
    </h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div>
        <h4 class="font-bold text-purple-700 mb-4">üéØ Immediate Next Steps</h4>
        <div class="space-y-3">
          <div class="flex items-start gap-3">
            <div
              class="w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5"
            >
              <span class="text-white text-xs font-bold">1</span>
            </div>
            <div>
              <h5 class="font-semibold text-purple-700">
                Practice the Counter Example
              </h5>
              <p class="text-purple-600 text-sm">
                Build the RTK counter from scratch to understand the basics
              </p>
            </div>
          </div>

          <div class="flex items-start gap-3">
            <div
              class="w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5"
            >
              <span class="text-white text-xs font-bold">2</span>
            </div>
            <div>
              <h5 class="font-semibold text-purple-700">
                Convert an Existing Redux App
              </h5>
              <p class="text-purple-600 text-sm">
                Take a traditional Redux app and migrate one slice to RTK
              </p>
            </div>
          </div>

          <div class="flex items-start gap-3">
            <div
              class="w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5"
            >
              <span class="text-white text-xs font-bold">3</span>
            </div>
            <div>
              <h5 class="font-semibold text-purple-700">Build the Todo App</h5>
              <p class="text-purple-600 text-sm">
                Implement the complete todo example with async operations
              </p>
            </div>
          </div>
        </div>
      </div>

      <div>
        <h4 class="font-bold text-purple-700 mb-4">
          üöÄ Advanced Topics to Explore
        </h4>
        <div class="space-y-3">
          <div class="flex items-start gap-3">
            <div
              class="w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5"
            >
              <span class="text-white text-xs font-bold">4</span>
            </div>
            <div>
              <h5 class="font-semibold text-purple-700">Learn RTK Query</h5>
              <p class="text-purple-600 text-sm">
                Master server state management with automatic caching
              </p>
            </div>
          </div>

          <div class="flex items-start gap-3">
            <div
              class="w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5"
            >
              <span class="text-white text-xs font-bold">5</span>
            </div>
            <div>
              <h5 class="font-semibold text-purple-700">
                TypeScript Integration
              </h5>
              <p class="text-purple-600 text-sm">
                Set up typed Redux with RTK for better development experience
              </p>
            </div>
          </div>

          <div class="flex items-start gap-3">
            <div
              class="w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5"
            >
              <span class="text-white text-xs font-bold">6</span>
            </div>
            <div>
              <h5 class="font-semibold text-purple-700">
                Performance Optimization
              </h5>
              <p class="text-purple-600 text-sm">
                Learn memoized selectors and advanced optimization techniques
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="mt-8 bg-white p-6 rounded-lg shadow-md">
      <h4 class="font-bold text-gray-800 mb-3 flex items-center">
        <i class="fas fa-graduation-cap mr-2"></i>
        Congratulations! üéâ
      </h4>
      <p class="text-gray-700 text-sm leading-relaxed mb-4">
        You now understand Redux Toolkit fundamentals! RTK makes Redux
        development enjoyable and productive. The key is to start simple and
        gradually add complexity as your app grows.
      </p>
      <div
        class="bg-gradient-to-r from-green-100 to-blue-100 p-4 rounded border-l-4 border-green-400"
      >
        <p class="text-green-800 text-sm">
          <strong>Remember:</strong> RTK is not just a tool, it's a mindset
          shift towards simpler, more maintainable Redux code. Once you
          experience the productivity boost, you'll never want to go back to
          traditional Redux!
        </p>
      </div>
    </div>
  </div>
</section>
