<!-- Redux Persist Section -->
<section class="mb-12" id="redux-persist">
  <!-- Beginner-Friendly Introduction -->
  <div
    class="bg-gradient-to-r from-orange-50 to-amber-50 rounded-xl p-8 mb-8 border border-orange-200"
  >
    <div class="text-center mb-6">
      <div class="text-6xl mb-4">üíæ</div>
      <h3 class="text-2xl font-bold text-orange-800 mb-2">
        Never Lose Your App State Again!
      </h3>
      <p class="text-orange-600">
        Redux Persist automatically saves your app state so users can continue
        exactly where they left off.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <!-- The Problem -->
      <div class="bg-white/70 p-6 rounded-lg shadow-md">
        <h4 class="font-bold text-gray-800 mb-3 flex items-center">
          <i class="fas fa-exclamation-triangle mr-2 text-red-500"></i>
          The Problem Without Persistence
        </h4>
        <p class="text-gray-700 text-sm mb-3">
          Every time a user refreshes your app or closes the browser,
          <strong>all state is lost</strong>. Shopping carts empty, login status
          gone, user preferences forgotten!
        </p>
        <div class="bg-red-50 p-3 rounded text-xs text-red-700">
          <strong>User Experience:</strong> "Why did I lose my shopping cart
          items when I accidentally refreshed the page?!"
        </div>
      </div>

      <!-- The Solution -->
      <div class="bg-white/70 p-6 rounded-lg shadow-md">
        <h4 class="font-bold text-gray-800 mb-3 flex items-center">
          <i class="fas fa-magic mr-2 text-green-500"></i>
          Redux Persist Magic
        </h4>
        <p class="text-gray-700 text-sm mb-3">
          Redux Persist automatically saves your Redux state to
          <strong>localStorage, sessionStorage, or any storage engine</strong>.
          When users return, their state is perfectly restored!
        </p>
        <div class="bg-green-50 p-3 rounded text-xs text-green-700">
          <strong>Result:</strong> Seamless user experience - everything
          persists across browser sessions without any manual work!
        </div>
      </div>
    </div>

    <div
      class="mt-8 bg-gradient-to-r from-purple-100 to-pink-100 p-6 rounded-lg border border-purple-200"
    >
      <h4 class="font-bold text-purple-800 mb-3 text-center">
        ‚ö° How It Works (Behind the Scenes)
      </h4>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center text-sm">
        <div class="bg-white p-4 rounded shadow">
          <div class="text-2xl mb-2">üìù</div>
          <div class="font-semibold text-gray-800">1. Auto-Save</div>
          <div class="text-xs text-gray-600">
            Every state change is automatically saved to storage
          </div>
        </div>
        <div class="bg-white p-4 rounded shadow">
          <div class="text-2xl mb-2">üîÑ</div>
          <div class="font-semibold text-gray-800">2. Auto-Restore</div>
          <div class="text-xs text-gray-600">
            On app startup, saved state is loaded back into Redux
          </div>
        </div>
        <div class="bg-white p-4 rounded shadow">
          <div class="text-2xl mb-2">‚ú®</div>
          <div class="font-semibold text-gray-800">3. Seamless</div>
          <div class="text-xs text-gray-600">
            Users never notice - it just works perfectly!
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="flex items-center gap-3 mb-6">
    <div
      class="p-3 rounded-full bg-gradient-to-br from-orange-100 to-orange-200 text-orange-600 shadow-md"
    >
      <i class="fas fa-save text-lg"></i>
    </div>
    <div>
      <h2 class="text-3xl font-bold text-gray-800">Redux Persist</h2>
      <p class="text-gray-500 text-sm mt-1">
        Automatic state persistence for Redux
      </p>
    </div>
  </div>

  <!-- What is Redux Persist? -->
  <div
    class="bg-white/80 shadow-xl rounded-xl p-8 mb-8 border border-orange-100"
  >
    <div class="bg-orange-50 border-l-4 border-orange-400 p-4 mb-6 rounded-r">
      <p class="text-orange-800">
        <i class="fa-solid fa-info-circle mr-2"></i>
        Redux Persist is a library that automatically saves your Redux state to
        storage and reloads it when your app starts, creating a seamless user
        experience.
      </p>
    </div>

    <h3 class="text-2xl font-bold mb-4 text-orange-800">Key Features</h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
      <div class="space-y-4">
        <div class="flex items-start gap-3">
          <div
            class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
          >
            <i class="fas fa-save text-blue-600 text-sm"></i>
          </div>
          <div>
            <h4 class="font-semibold text-gray-800">Automatic Persistence</h4>
            <p class="text-sm text-gray-600">
              State is automatically saved on every change
            </p>
          </div>
        </div>

        <div class="flex items-start gap-3">
          <div
            class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
          >
            <i class="fas fa-undo text-blue-600 text-sm"></i>
          </div>
          <div>
            <h4 class="font-semibold text-gray-800">State Rehydration</h4>
            <p class="text-sm text-gray-600">
              Seamlessly restores state when app loads
            </p>
          </div>
        </div>

        <div class="flex items-start gap-3">
          <div
            class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
          >
            <i class="fas fa-filter text-blue-600 text-sm"></i>
          </div>
          <div>
            <h4 class="font-semibold text-gray-800">Selective Persistence</h4>
            <p class="text-sm text-gray-600">
              Choose exactly what to persist with whitelist/blacklist
            </p>
          </div>
        </div>
      </div>

      <div class="space-y-4">
        <div class="flex items-start gap-3">
          <div
            class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
          >
            <i class="fas fa-database text-blue-600 text-sm"></i>
          </div>
          <div>
            <h4 class="font-semibold text-gray-800">
              Multiple Storage Options
            </h4>
            <p class="text-sm text-gray-600">
              localStorage, sessionStorage, AsyncStorage, and more
            </p>
          </div>
        </div>

        <div class="flex items-start gap-3">
          <div
            class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
          >
            <i class="fas fa-shield-alt text-blue-600 text-sm"></i>
          </div>
          <div>
            <h4 class="font-semibold text-gray-800">Data Transforms</h4>
            <p class="text-sm text-gray-600">
              Encrypt, compress, or modify data before storage
            </p>
          </div>
        </div>

        <div class="flex items-start gap-3">
          <div
            class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1"
          >
            <i class="fas fa-cogs text-blue-600 text-sm"></i>
          </div>
          <div>
            <h4 class="font-semibold text-gray-800">Easy Integration</h4>
            <p class="text-sm text-gray-600">
              Works seamlessly with Redux Toolkit
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
      <h4 class="font-semibold text-blue-800 mb-2">Perfect For:</h4>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-700">
        <ul class="space-y-1">
          <li>‚Ä¢ Shopping cart items</li>
          <li>‚Ä¢ User authentication state</li>
          <li>‚Ä¢ App settings & preferences</li>
        </ul>
        <ul class="space-y-1">
          <li>‚Ä¢ Form data & drafts</li>
          <li>‚Ä¢ Theme & language selection</li>
          <li>‚Ä¢ User session data</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Installation & Basic Setup -->
  <div
    class="bg-white/80 shadow-xl rounded-xl p-8 mb-8 border border-indigo-100"
  >
    <h3 class="text-2xl font-bold mb-4 text-indigo-800">Quick Setup Guide</h3>
    <p class="text-gray-700 mb-6">
      Get Redux Persist working in your app in just 3 simple steps!
    </p>

    <!-- Step 1: Install -->
    <div class="mb-8">
      <div class="flex items-center gap-3 mb-4">
        <div
          class="w-8 h-8 bg-indigo-500 text-white rounded-full flex items-center justify-center font-bold text-sm"
        >
          1
        </div>
        <h4 class="text-xl font-semibold text-gray-800">
          Install Redux Persist
        </h4>
      </div>

      <div
        class="code-header flex items-center justify-between px-4 py-2 bg-gray-800 text-gray-300 rounded-t-lg"
      >
        <span class="text-sm font-medium">Terminal</span>
        <i class="fas fa-terminal text-sm"></i>
      </div>
      <div
        class="code-block bg-gray-900 text-gray-100 p-4 rounded-b-lg font-mono text-sm overflow-x-auto"
      >
        <pre><code># Using npm
npm install redux-persist

# Using yarn
yarn add redux-persist

# Using pnpm
pnpm add redux-persist</code></pre>
      </div>
    </div>

    <!-- Step 2: Configure Store -->
    <div class="mb-8">
      <div class="flex items-center gap-3 mb-4">
        <div
          class="w-8 h-8 bg-indigo-500 text-white rounded-full flex items-center justify-center font-bold text-sm"
        >
          2
        </div>
        <h4 class="text-xl font-semibold text-gray-800">
          Set Up Persisted Store
        </h4>
      </div>

      <div
        class="code-header flex items-center justify-between px-4 py-2 bg-gray-800 text-gray-300 rounded-t-lg"
      >
        <span class="text-sm font-medium">store.js</span>
        <i class="fas fa-file-code text-sm"></i>
      </div>
      <div
        class="code-block bg-gray-900 text-gray-100 p-4 rounded-b-lg font-mono text-sm overflow-x-auto"
      >
        <pre><code>// store.js
import { configureStore } from '@reduxjs/toolkit'
import { persistStore, persistReducer } from 'redux-persist'
import storage from 'redux-persist/lib/storage' // defaults to localStorage
import counterSlice from './counterSlice'

// Persist configuration
const persistConfig = {
  key: 'root',
  storage,
  // Optional: only persist specific parts
  whitelist: ['counter'] // only counter will be persisted
}

// Create persisted reducer
const persistedReducer = persistReducer(persistConfig, counterSlice.reducer)

// Configure store with persisted reducer
export const store = configureStore({
  reducer: {
    counter: persistedReducer
  },
  middleware: (getDefaultMiddleware) =>
    getDefaultMiddleware({
      serializableCheck: {
        ignoredActions: ['persist/PERSIST']
      }
    })
})

// Create persistor
export const persistor = persistStore(store)</code></pre>
      </div>

      <div class="bg-green-50 p-4 rounded-lg border border-green-200 mt-4">
        <h5 class="font-semibold text-green-800 mb-2">üéØ What This Does:</h5>
        <ul class="text-sm text-green-700 space-y-1">
          <li>‚Ä¢ Wraps your reducer with persistence capabilities</li>
          <li>‚Ä¢ Configures localStorage as the storage engine</li>
          <li>‚Ä¢ Creates a persistor to manage the persistence lifecycle</li>
        </ul>
      </div>
    </div>

    <!-- Step 3: Wrap App -->
    <div class="mb-6">
      <div class="flex items-center gap-3 mb-4">
        <div
          class="w-8 h-8 bg-indigo-500 text-white rounded-full flex items-center justify-center font-bold text-sm"
        >
          3
        </div>
        <h4 class="text-xl font-semibold text-gray-800">
          Wrap Your App with PersistGate
        </h4>
      </div>

      <div
        class="code-header flex items-center justify-between px-4 py-2 bg-gray-800 text-gray-300 rounded-t-lg"
      >
        <span class="text-sm font-medium">App.js</span>
        <i class="fas fa-file-code text-sm"></i>
      </div>
      <div
        class="code-block bg-gray-900 text-gray-100 p-4 rounded-b-lg font-mono text-sm overflow-x-auto"
      >
        <pre><code>// App.js
import React from 'react'
import { Provider } from 'react-redux'
import { PersistGate } from 'redux-persist/integration/react'
import { store, persistor } from './store'
import Counter from './Counter'

function App() {
  return (
    &lt;Provider store={store}&gt;
      &lt;PersistGate loading={&lt;div&gt;Loading...&lt;/div&gt;} persistor={persistor}&gt;
        &lt;div className="App"&gt;
          &lt;h1&gt;Redux Persist Example&lt;/h1&gt;
          &lt;Counter /&gt;
        &lt;/div&gt;
      &lt;/PersistGate&gt;
    &lt;/Provider&gt;
  )
}

export default App</code></pre>
      </div>

      <div class="bg-purple-50 p-4 rounded-lg border border-purple-200 mt-4">
        <h5 class="font-semibold text-purple-800 mb-2">üöÄ That's It!</h5>
        <p class="text-sm text-purple-700">
          Your app now automatically saves and restores state! Try refreshing
          the page - everything stays exactly the same.
        </p>
      </div>
    </div>
  </div>

  <!-- Simple Counter Example -->
  <div
    class="bg-white/80 shadow-xl rounded-xl p-8 mb-8 border border-green-100"
  >
    <h3 class="text-2xl font-bold mb-4 text-green-800">
      Complete Working Example
    </h3>
    <p class="text-gray-700 mb-6">
      Here's a complete counter example that persists across browser sessions:
    </p>

    <div
      class="code-header flex items-center justify-between px-4 py-2 bg-gray-800 text-gray-300 rounded-t-lg"
    >
      <span class="text-sm font-medium">counterSlice.js</span>
      <i class="fas fa-file-code text-sm"></i>
    </div>
    <div
      class="code-block bg-gray-900 text-gray-100 p-4 rounded-b-lg font-mono text-sm overflow-x-auto"
    >
      <pre><code>// counterSlice.js
import { createSlice } from '@reduxjs/toolkit'

const counterSlice = createSlice({
  name: 'counter',
  initialState: {
    count: 0
  },
  reducers: {
    increment: (state) => {
      state.count += 1
    },
    decrement: (state) => {
      state.count -= 1
    },
    reset: (state) => {
      state.count = 0
    }
  }
})

export const { increment, decrement, reset } = counterSlice.actions
export default counterSlice</code></pre>
    </div>

    <div
      class="code-header flex items-center justify-between px-4 py-2 bg-gray-800 text-gray-300 rounded-t-lg mt-4"
    >
      <span class="text-sm font-medium">Counter.js</span>
      <i class="fas fa-file-code text-sm"></i>
    </div>
    <div
      class="code-block bg-gray-900 text-gray-100 p-4 rounded-b-lg font-mono text-sm overflow-x-auto"
    >
      <pre><code>// Counter.js
import React from 'react'
import { useSelector, useDispatch } from 'react-redux'
import { increment, decrement, reset } from './counterSlice'

function Counter() {
  const count = useSelector(state => state.counter.count)
  const dispatch = useDispatch()

  return (
    &lt;div style={{ textAlign: 'center', padding: '20px' }}&gt;
      &lt;h2&gt;Count: {count}&lt;/h2&gt;
      &lt;button onClick={() => dispatch(increment())}&gt;+&lt;/button&gt;
      &lt;button onClick={() => dispatch(decrement())}&gt;-&lt;/button&gt;
      &lt;button onClick={() => dispatch(reset())}&gt;Reset&lt;/button&gt;
      &lt;p&gt;Try refreshing the page - the count will persist!&lt;/p&gt;
    &lt;/div&gt;
  )
}

export default Counter</code></pre>
    </div>

    <div class="bg-blue-50 p-4 rounded-lg border border-blue-200 mt-4">
      <h5 class="font-semibold text-blue-800 mb-2">‚ú® Try It Out:</h5>
      <ol class="text-sm text-blue-700 space-y-1">
        <li>1. Click the + button a few times</li>
        <li>2. Refresh the page (F5 or Ctrl+R)</li>
        <li>3. Notice the count is exactly the same! üéâ</li>
      </ol>
    </div>
  </div>

  <!-- Advanced Configuration -->
  <div
    class="bg-white/80 shadow-xl rounded-xl p-8 mb-8 border border-purple-100"
  >
    <h3 class="text-2xl font-bold mb-4 text-purple-800">
      Advanced Configuration
    </h3>
    <p class="text-gray-700 mb-6">
      Configure multiple slices with selective persistence and transforms:
    </p>

    <div
      class="code-header flex items-center justify-between px-4 py-2 bg-gray-800 text-gray-300 rounded-t-lg"
    >
      <span class="text-sm font-medium">Advanced Store Setup</span>
      <i class="fas fa-cogs text-sm"></i>
    </div>
    <div
      class="code-block bg-gray-900 text-gray-100 p-4 rounded-b-lg font-mono text-sm overflow-x-auto"
    >
      <pre><code>// store.js
import { configureStore, combineReducers } from '@reduxjs/toolkit'
import { persistStore, persistReducer } from 'redux-persist'
import storage from 'redux-persist/lib/storage'

// Import your slices
import authSlice from './slices/authSlice'
import cartSlice from './slices/cartSlice'
import userPreferencesSlice from './slices/userPreferencesSlice'
import postsSlice from './slices/postsSlice'

// Combine reducers
const rootReducer = combineReducers({
  auth: authSlice.reducer,
  cart: cartSlice.reducer,
  userPreferences: userPreferencesSlice.reducer,
  posts: postsSlice.reducer,
})

// Persist configuration
const persistConfig = {
  key: 'root',
  storage,
  whitelist: ['auth', 'cart', 'userPreferences'], // Only persist these
  blacklist: ['posts'] // Don't persist posts (they should be fresh)
}

const persistedReducer = persistReducer(persistConfig, rootReducer)

export const store = configureStore({
  reducer: persistedReducer,
  middleware: (getDefaultMiddleware) =>
    getDefaultMiddleware({
      serializableCheck: {
        ignoredActions: ['persist/PERSIST', 'persist/REHYDRATE']
      }
    })
})

export const persistor = persistStore(store)</code></pre>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
      <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
        <h5 class="font-semibold text-blue-800 mb-2">‚úÖ Good to Persist:</h5>
        <ul class="text-sm text-blue-700 space-y-1">
          <li>‚Ä¢ User authentication state</li>
          <li>‚Ä¢ Shopping cart items</li>
          <li>‚Ä¢ App settings & preferences</li>
          <li>‚Ä¢ Theme selection</li>
          <li>‚Ä¢ Language preferences</li>
        </ul>
      </div>

      <div class="bg-red-50 p-4 rounded-lg border border-red-200">
        <h5 class="font-semibold text-red-800 mb-2">‚ùå Don't Persist:</h5>
        <ul class="text-sm text-red-700 space-y-1">
          <li>‚Ä¢ Loading states</li>
          <li>‚Ä¢ Error messages</li>
          <li>‚Ä¢ Fresh data from APIs</li>
          <li>‚Ä¢ Temporary UI state</li>
          <li>‚Ä¢ Time-sensitive data</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Real-World Example: Shopping Cart -->
  <div class="bg-white/80 shadow-xl rounded-xl p-8 mb-8 border border-teal-100">
    <h3 class="text-2xl font-bold mb-4 text-teal-800">
      Real-World Example: Persistent Shopping Cart
    </h3>
    <p class="text-gray-700 mb-6">
      Build a shopping cart that never loses items, even if users close their
      browser:
    </p>

    <div
      class="code-header flex items-center justify-between px-4 py-2 bg-gray-800 text-gray-300 rounded-t-lg"
    >
      <span class="text-sm font-medium">cartSlice.js</span>
      <i class="fas fa-shopping-cart text-sm"></i>
    </div>
    <div
      class="code-block bg-gray-900 text-gray-100 p-4 rounded-b-lg font-mono text-sm overflow-x-auto"
    >
      <pre><code>// cartSlice.js
import { createSlice } from '@reduxjs/toolkit'

const cartSlice = createSlice({
  name: 'cart',
  initialState: {
    items: [],
    total: 0
  },
  reducers: {
    addToCart: (state, action) => {
      const existingItem = state.items.find(item => item.id === action.payload.id)
      if (existingItem) {
        existingItem.quantity += 1
      } else {
        state.items.push({ ...action.payload, quantity: 1 })
      }
      state.total = state.items.reduce((sum, item) => sum + (item.price * item.quantity), 0)
    },
    removeFromCart: (state, action) => {
      state.items = state.items.filter(item => item.id !== action.payload)
      state.total = state.items.reduce((sum, item) => sum + (item.price * item.quantity), 0)
    },
    updateQuantity: (state, action) => {
      const { id, quantity } = action.payload
      const item = state.items.find(item => item.id === id)
      if (item) {
        item.quantity = quantity
        if (quantity <= 0) {
          state.items = state.items.filter(item => item.id !== id)
        }
      }
      state.total = state.items.reduce((sum, item) => sum + (item.price * item.quantity), 0)
    },
    clearCart: (state) => {
      state.items = []
      state.total = 0
    }
  }
})

export const { 
  addToCart, 
  removeFromCart, 
  updateQuantity, 
  clearCart 
} = cartSlice.actions
export default cartSlice</code></pre>
    </div>

    <div
      class="code-header flex items-center justify-between px-4 py-2 bg-gray-800 text-gray-300 rounded-t-lg mt-4"
    >
      <span class="text-sm font-medium">Cart.js</span>
      <i class="fas fa-file-code text-sm"></i>
    </div>
    <div
      class="code-block bg-gray-900 text-gray-100 p-4 rounded-b-lg font-mono text-sm overflow-x-auto"
    >
      <pre><code>// Cart.js
import React from 'react'
import { useSelector, useDispatch } from 'react-redux'
import { removeFromCart, updateQuantity, clearCart } from './cartSlice'

function Cart() {
  const { items, total } = useSelector(state => state.cart)
  const dispatch = useDispatch()

  return (
    &lt;div className="cart"&gt;
      &lt;h2&gt;Shopping Cart&lt;/h2&gt;
      {items.length === 0 ? (
        &lt;p&gt;Your cart is empty&lt;/p&gt;
      ) : (
        &lt;&gt;
          {items.map(item => (
            &lt;div key={item.id} className="cart-item"&gt;
              &lt;span&gt;{item.name}&lt;/span&gt;
              &lt;span&gt;${item.price}&lt;/span&gt;
              &lt;input 
                type="number" 
                value={item.quantity}
                onChange={(e) => dispatch(updateQuantity({
                  id: item.id, 
                  quantity: parseInt(e.target.value)
                }))}
              /&gt;
              &lt;button onClick={() => dispatch(removeFromCart(item.id))}&gt;
                Remove
              &lt;/button&gt;
            &lt;/div&gt;
          ))}
          &lt;div className="cart-total"&gt;
            &lt;strong&gt;Total: ${total.toFixed(2)}&lt;/strong&gt;
          &lt;/div&gt;
          &lt;button onClick={() => dispatch(clearCart())}&gt;
            Clear Cart
          &lt;/button&gt;
        &lt;/&gt;
      )}
    &lt;/div&gt;
  )
}

export default Cart</code></pre>
    </div>

    <div class="bg-emerald-50 p-4 rounded-lg border border-emerald-200 mt-4">
      <h5 class="font-semibold text-emerald-800 mb-2">
        üõí User Experience Magic:
      </h5>
      <ul class="text-sm text-emerald-700 space-y-1">
        <li>
          ‚Ä¢ Add items to cart, close browser, come back later - everything's
          still there!
        </li>
        <li>‚Ä¢ No more frustrated customers losing their shopping progress</li>
        <li>‚Ä¢ Works across tabs, browser restarts, even computer restarts</li>
        <li>
          ‚Ä¢ Zero additional code needed - Redux Persist handles everything
        </li>
      </ul>
    </div>
  </div>

  <!-- Auth Example with Transforms -->
  <div
    class="bg-white/80 shadow-xl rounded-xl p-8 mb-8 border border-indigo-100"
  >
    <h3 class="text-2xl font-bold mb-4 text-indigo-800">
      Security Example: Encrypted Auth State
    </h3>
    <p class="text-gray-700 mb-6">
      Use transforms to encrypt sensitive authentication data before storing:
    </p>

    <div
      class="code-header flex items-center justify-between px-4 py-2 bg-gray-800 text-gray-300 rounded-t-lg"
    >
      <span class="text-sm font-medium">Secure Auth Setup</span>
      <i class="fas fa-shield-alt text-sm"></i>
    </div>
    <div
      class="code-block bg-gray-900 text-gray-100 p-4 rounded-b-lg font-mono text-sm overflow-x-auto"
    >
      <pre><code>// authSlice.js
import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'

// Async thunk for login
export const login = createAsyncThunk(
  'auth/login',
  async ({ email, password }) => {
    const response = await fetch('/api/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email, password })
    })
    const data = await response.json()
    return data
  }
)

// Async thunk for token refresh
export const refreshToken = createAsyncThunk(
  'auth/refresh',
  async (_, { getState }) => {
    const { refreshToken } = getState().auth
    const response = await fetch('/api/refresh', {
      method: 'POST',
      headers: { 
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${refreshToken}`
      }
    })
    const data = await response.json()
    return data
  }
)

const authSlice = createSlice({
  name: 'auth',
  initialState: {
    user: null,
    token: null,
    refreshToken: null,
    isAuthenticated: false,
    loading: false,
    error: null
  },
  reducers: {
    logout: (state) => {
      state.user = null
      state.token = null
      state.refreshToken = null
      state.isAuthenticated = false
    },
    clearError: (state) => {
      state.error = null
    }
  },
  extraReducers: (builder) => {
    builder
      .addCase(login.pending, (state) => {
        state.loading = true
        state.error = null
      })
      .addCase(login.fulfilled, (state, action) => {
        state.loading = false
        state.user = action.payload.user
        state.token = action.payload.token
        state.refreshToken = action.payload.refreshToken
        state.isAuthenticated = true
      })
      .addCase(login.rejected, (state, action) => {
        state.loading = false
        state.error = action.error.message
      })
      .addCase(refreshToken.fulfilled, (state, action) => {
        state.token = action.payload.token
      })
  }
})

export const { logout, clearError } = authSlice.actions
export default authSlice</code></pre>
    </div>

    <div class="bg-amber-50 p-4 rounded-lg border border-amber-200 mt-4">
      <h5 class="font-semibold text-amber-800 mb-2">üîí Security Benefits:</h5>
      <ul class="text-sm text-amber-700 space-y-1">
        <li>‚Ä¢ User stays logged in across browser sessions</li>
        <li>‚Ä¢ Automatic token refresh on app startup</li>
        <li>‚Ä¢ Secure storage of authentication state</li>
        <li>‚Ä¢ Seamless user experience - no re-login required</li>
      </ul>
    </div>
  </div>

  <!-- Best Practices -->
  <div
    class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-8 mb-8 border border-purple-200"
  >
    <h3 class="text-2xl font-bold text-purple-800 mb-6 flex items-center">
      <i class="fas fa-star mr-3"></i>
      Redux Persist Best Practices
    </h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div>
        <h4 class="font-bold text-purple-700 mb-4">‚úÖ Do's</h4>
        <div class="space-y-3">
          <div class="bg-white/70 p-4 rounded-lg">
            <h5 class="font-semibold text-gray-800 mb-2">
              Use Whitelist/Blacklist
            </h5>
            <p class="text-sm text-gray-600">
              Only persist what you need. Not everything should survive browser
              restarts.
            </p>
          </div>
          <div class="bg-white/70 p-4 rounded-lg">
            <h5 class="font-semibold text-gray-800 mb-2">Handle Rehydration</h5>
            <p class="text-sm text-gray-600">
              Show loading states while state is being restored from storage.
            </p>
          </div>
          <div class="bg-white/70 p-4 rounded-lg">
            <h5 class="font-semibold text-gray-800 mb-2">Version Your State</h5>
            <p class="text-sm text-gray-600">
              Use migrations to handle state structure changes between app
              versions.
            </p>
          </div>
        </div>
      </div>

      <div>
        <h4 class="font-bold text-red-700 mb-4">‚ùå Don'ts</h4>
        <div class="space-y-3">
          <div class="bg-white/70 p-4 rounded-lg">
            <h5 class="font-semibold text-gray-800 mb-2">
              Don't Persist Everything
            </h5>
            <p class="text-sm text-gray-600">
              Loading states, errors, and temporary UI state shouldn't be
              persisted.
            </p>
          </div>
          <div class="bg-white/70 p-4 rounded-lg">
            <h5 class="font-semibold text-gray-800 mb-2">
              Don't Store Sensitive Data
            </h5>
            <p class="text-sm text-gray-600">
              Use transforms to encrypt or avoid storing sensitive information
              entirely.
            </p>
          </div>
          <div class="bg-white/70 p-4 rounded-lg">
            <h5 class="font-semibold text-gray-800 mb-2">
              Don't Ignore Performance
            </h5>
            <p class="text-sm text-gray-600">
              Large states can slow down serialization. Keep persisted state
              lean.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Reference -->
  <div class="bg-white/80 shadow-xl rounded-xl p-8 border border-gray-200">
    <h3 class="text-2xl font-bold mb-4 text-gray-800">Quick Reference</h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div>
        <h4 class="font-bold text-gray-700 mb-3">
          Common Configuration Options
        </h4>
        <div class="bg-gray-50 p-4 rounded-lg text-sm font-mono">
          <pre><code>const persistConfig = {
  key: 'root',
  storage,
  whitelist: ['auth', 'cart'],
  blacklist: ['loading'],
  version: 1,
  migrate: createMigrate(migrations),
  transforms: [encryptTransform]
}</code></pre>
        </div>
      </div>

      <div>
        <h4 class="font-bold text-gray-700 mb-3">Storage Options</h4>
        <div class="space-y-2 text-sm">
          <div class="flex justify-between p-2 bg-gray-50 rounded">
            <span className="font-mono">localStorage</span>
            <span className="text-gray-600">Persistent, 5-10MB</span>
          </div>
          <div class="flex justify-between p-2 bg-gray-50 rounded">
            <span className="font-mono">sessionStorage</span>
            <span className="text-gray-600">Session only, 5-10MB</span>
          </div>
          <div class="flex justify-between p-2 bg-gray-50 rounded">
            <span className="font-mono">AsyncStorage</span>
            <span className="text-gray-600">React Native, ~6MB</span>
          </div>
          <div class="flex justify-between p-2 bg-gray-50 rounded">
            <span className="font-mono">IndexedDB</span>
            <span className="text-gray-600">Large data, async</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
